### Day 3

#### 4 基本数据管理

#### 4.2 创建新变量

1. 算术运算符

* +：加
* -：减
* *：乘
* /:除
* ^或**：求幂
* X%%Y:求余
* X%/%Y:整数除法

2. 创建新变量

``` R
mydata <- transform(mydata,sumx = x1 + x2,meanx = (x1 + x2)/2)
```



#### 4.3 变量的重编码

1. 逻辑运算符

* <:小于
* <=:小于或等于
* ==>== :大于
* ==>===:大于或等于
* ==:严格等于
* !=:不等于
* !x:非x
* x|y:x或y
* x&y:x和y
* isTRUE(x):测试x是否为TRUE

#### 4.4 变量的重命名

1. 使用语句fix()来调用一个交互式的编辑器，然后你单击变量名。
2. 通过names()函数来重命名变量
3. rename()函数，可用于修改变量名

#### 4.5 缺失值

1. 缺失值以符号NA（Not Available，不可用）表示。函数is.na()允许你检测缺失值是否存在。
2. 含有缺失值的算术表达式和函数的计算结果也是缺失值。
3. 在使用函数处理不完整的数据时，请务必查阅它们的帮助文档（例如，help(sum)），检查
   这些函数是如何处理缺失数据的。
4. 通过函数na.omit()移除所有含有缺失值的观测。na.omit()可以删除所有含有缺失数据的行。

#### 4.6 日期值

1. 日期值通常以字符串的形式输入到R中，然后转化为以数值形式存储的日期变量。函数as.Date()用于执行这种转化。
2. 日期格式

* %d:数字表示的日期(0~31)
* %a:缩写的星期名(Mon)
* %A:非缩写的星期名(Monday)
* %m:月份(00~12)
* %b:缩写的月份(Jan)
* %B:非缩写的月份(January)
* %y:两位数的年份(07)
* %Y:四位数的年份(2007)

3. Sys.Date()可以返回当天的日期。date()返回当前的日期和时间。format(x,format="output_format")来输出指定格式的日期值。

   使用函数difftime()来计算时间间隔。

4. 函数as.character()可将日期值转换为字符型。

#### 4.7 类型转换

1. 名为is.datatype()这样的函数返回TRUE或FALSE，而as.datatype()这样的函数则将其
   参数转换为对应的类型。

#### 4.8 数据排序

1. 使用order()函数对一个数据框进行排序。

#### 4.9 数据集的合并

1. 使用merge()函数横向合并两个数据框（数据集）。使用rbind()函数纵向合并两个数据框（数据集）。

#### 4.10 数据集取子集

1. subset()函数从某一数据框中选择符合某条件的数据或是相关的列。
2. sample()函数能够让你从数据集中（有放回或无放回地）抽取大小为n的一个随机样本。







